"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1967],{51967:function(e,t,r){r.d(t,{Z:function(){return E}});var l=r(11527),n=r(84175),i=r(28820),a=r(50959),o=r(47119),s=r(9497),c=r(13389),u=r(13184),d=r(80574);let p=e=>{let{filterCount:t,colorTheme:r,size:n,onClick:i}=e;return(0,l.jsx)(u.Z,{colorTheme:r,size:n,iconComponent:c.Z,onClick:i,children:(0,l.jsxs)(l.Fragment,{children:[(0,d.Z)("filter"),t>0&&(0,l.jsx)("div",{className:"flex items-center justify-center w-6 h-6 leading-normal text-white rounded-full bg-primary-2",children:t})]})})};var f=r(40201),m=r(40483),g=r(10113),h=r(84875),v=r.n(h),x=r(13541),w=r.n(x),y=r(41393),b=r(92059),_=r(90243),j=r(55454),k=r(26448),N=r(50923),C=r(9716),Z=r(96901);let O=w()(()=>r.e(3206).then(r.bind(r,23206)),{loadableGenerated:{webpack:()=>[23206]},ssr:!1}),I=w()(()=>Promise.all([r.e(8201),r.e(524),r.e(574)]).then(r.bind(r,71038)),{loadableGenerated:{webpack:()=>[71038]},ssr:!1}),z=w()(()=>r.e(7403).then(r.bind(r,47403)),{loadableGenerated:{webpack:()=>[47403]},ssr:!1}),P=e=>{let{facets:t,lists:r,category:n,searchValue:i}=e;return t?(0,l.jsxs)(y.ZP,{category:null==n?void 0:n.code,facetKeys:t,children:[(0,l.jsx)(O,{}),(0,l.jsx)(q,{category:n,searchValue:i,lists:r})]}):(console.error("facets where not found",t),null)},q=e=>{var t;let{category:r,searchValue:c,lists:h}=e,x=(0,o.TL)(),w=()=>x(s.Aw.open({overlay:"filter"})),O=(0,o.CG)(e=>e.channel.locale),[P,q]=(0,a.useState)(!1),E=(0,_.useRouter)();(0,a.useEffect)(()=>{let e=e=>{"/search"===E.pathname&&e.includes("/search")&&e!=window.location.pathname+window.location.search&&window.location.replace(e)};return E.events.on("routeChangeStart",e),()=>{E.events.off("routeChangeStart",e)}},[E]),(0,m.R)(e=>{let{prevPos:t,currPos:r}=e,l=-r.y,n=-t.y;l<n&&q(!1),l>n&&l>450&&q(!0)});let[R,F]=(0,a.useState)([]);(0,a.useEffect)(()=>{(null==r?void 0:r.code)&&O&&(0,b.tO)({locale:O,categoryId:null==r?void 0:r.code}).then(e=>F(e))},[O,r]);let{state:{type:S,product:{filterCount:V}},actions:{setType:D}}=(0,y.AB)(),T=(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.Z,{layout:"Fluid",children:(0,l.jsxs)("div",{className:"flex flex-col flex-wrap items-start justify-between gap-x-10 gap-y-8 lg:gap-y-10",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-y-3 md:gap-y-5",children:[(0,l.jsx)("h1",{className:"font-bold text-white text-h-3xl md:text-h-4xl lg:text-h-6xl",children:r?(0,N.decode)(r.name):(0,d.Z)("search")}),(null==r?void 0:r.text)&&(0,l.jsx)("p",{className:"max-w-md text-base font-medium leading-normal text-white md:text-lg",children:r.text}),c&&(0,l.jsxs)("p",{className:"max-w-md text-base font-medium leading-normal text-white md:text-lg",children:[(0,d.Z)("resultsFor"),": ",(0,N.decode)(c)]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-between w-full gap-4",children:[(null==r?void 0:r.ctas)&&r.ctas.length>0&&(0,l.jsx)(C.Z,{children:r.ctas.map((e,t)=>{var r;return e.title&&(null===(r=e.url)||void 0===r?void 0:r.src)&&(0,l.jsx)(u.Z,{href:e.url.src,color:"secondary",colorTheme:"Dark",size:"lg",children:e.title},t)})}),(0,l.jsx)(p,{onClick:w,filterCount:"products"===S?V:0,colorTheme:"Dark",size:"lg"})]})]})})}),U=(0,l.jsxs)("div",{className:v()("relative pb-6 pt-20 md:pb-14",{"pt-48":!c,"bg-primary":!(null==r?void 0:r.background)}),children:[(null==r?void 0:r.background)&&(0,l.jsx)(k.Z,{...r.background}),T]}),B=(0,a.useMemo)(()=>{var e;return null!==(t=null==r?void 0:null===(e=r.main)||void 0===e?void 0:e.filter(e=>(0,Z._)(O,e)))&&void 0!==t?t:[]},[null==r?void 0:r.main,O]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.Z,{children:U}),(null==r?void 0:r.main)&&V<1&&(0,l.jsx)("div",{className:"mt-10 md:mt-14 lg:mt-20",children:(0,l.jsx)(j.ZP,{components:B,preview:E.isPreview,floatingNavigation:!1,slug:""})}),c&&(0,l.jsxs)("div",{className:"flex justify-center gap-4 mt-8",role:"tablist","aria-orientation":"horizontal",children:[(0,l.jsx)(A,{name:(0,d.Z)("products"),"aria-selected":"products"===S,onClick:()=>D("products")}),(0,l.jsx)(A,{name:(0,d.Z)("pages"),"aria-selected":"content"===S,onClick:()=>D("content")})]}),"products"===S?(0,l.jsx)(I,{category:r,lists:h,cmsContentLength:B.length}):(0,l.jsx)(z,{}),(0,l.jsx)(g.Z,{isOpen:P,className:"transition-opacity duration-200",closedClassName:"opacity-0",openClassName:"opacity-100",children:(0,l.jsx)("div",{className:"fixed top-0 left-0 z-20 flex items-center w-full py-4 min-h-16 lg:h-18 xl:h-20 bg-primary",children:(0,l.jsx)(n.Z,{layout:"Fluid",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between flex-1 gap-x-4 gap-y-4",children:[(0,l.jsx)(i.Z,{colorTheme:"Dark",breadCrumbs:R}),(0,l.jsx)(p,{onClick:w,filterCount:"products"===S?V:0,colorTheme:"Dark"})]})})})})})]})},A=e=>{let{name:t,className:r,...n}=e;return(0,l.jsx)("button",{className:v()(r,"inline-block font-bold 2xl:text-xl duration-300 text-primary hover:border-b-primary",{"border-primary border-b-2":n["aria-selected"],"border-b-2 border-transparent":!n["aria-selected"]}),...n,children:t})};var E=P},41393:function(e,t,r){r.d(t,{ZP:function(){return w},nq:function(){return v},Wp:function(){return h},AB:function(){return g}});var l=r(11527),n=r(24494),i=r(39215),a=r(61876);function o(e){let t={type:e.type};if(e.query&&(t.q=e.query),t.sort=e.sort,"products"===e.type)for(let[r,l]of Object.entries(e.filters)){if(!l)continue;let e=[];for(let[t,r]of Object.entries(l))r&&e.push(t);e.length&&(t[r]=e)}if(window.history.pushState){let e=a.Z.stringify(t,{arrayFormat:"comma"}),r="".concat(window.location.protocol,"//").concat(window.location.host).concat(window.location.pathname,"?").concat(e);window.history.pushState({path:r},"",r)}}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?Array.isArray(e)?e.length?e.join(","):t:e:t}var c=r(50959),u=r(40505),d=r(87657);let p={product:{result:[],totalResults:0,facets:{},allFacets:{},sort:n.de,category:null,facetKeys:[],filters:{},filterCount:0},content:{sort:n.zk,result:[],totalResults:0},type:"products",query:"",initialized:!1,loading:!0,error:null},f=(0,c.createContext)({state:p}),m=e=>{let{children:t,category:r,facetKeys:i}=e,d={...p,product:{...p.product,facetKeys:i}},[m,g]=(0,u.x)(d);(0,c.useEffect)(()=>{{let{query:e,filters:t,sort:l,type:o}=function(e){let{category:t,facetKeys:r}=e,l=a.Z.parse(location.search,{arrayFormat:"comma"}),i=s(l.type,"products"),o=t||"content"!==i?"products":"content",c=s(l.q),u=function(e,t,r){let l=s(t);return"products"===e?r?l&&n.vi.includes(l)?l:n.ku:l&&n.dM.includes(l)?l:n.de:l&&n.dH.includes(l)?l:n.zk}(o,l.sort,t),d=function(e,t,r){if("content"===e)return{};let l={};for(let e of Object.keys(t)){if(!e.startsWith("kf_")||!(null==r?void 0:r.includes(e)))continue;let n=t[e];if(!n)continue;let i=Array.isArray(n)?n.filter(e=>e):[n];l[e]=i.reduce((e,t)=>(e[t]=!0,e),{})}return l}(o,l,r);return{sort:u,type:o,query:c,filters:d}}({category:r,facetKeys:i});g(n=>{n.query=e,n.product.facetKeys=i,n.product.category=null!=r?r:null,n.product.filters=t,n.product.filterCount=v(t),n.type=o,n.initialized=!0,"products"===o?n.product.sort=l:n.content.sort=l})}},[r,i,g]);let h=e=>{let{id:t,open:r,value:l}=e;return g(e=>{e.product.filters[t]||(e.product.filters[t]={}),e.product.filters[t][l]=r,e.product.filterCount=v(e.product.filters),o(x(e))})},v=e=>Object.values(e).reduce((e,t)=>t?e+=Object.values(t).reduce((e,t)=>(t&&e++,e),0):e,0),w=()=>g(e=>{e.product.filters={},e.product.filterCount=0,o(x(e))}),y=e=>g(t=>{"products"===t.type?t.product.sort=e:t.content.sort=e,o(x(t))}),b=e=>g(t=>{t.type=e,o(x(t))});return(0,l.jsx)(f.Provider,{value:{actions:{toggleFilter:h,clearFilters:w,setSort:y,setType:b},setState:g,state:m},children:t})},g=()=>(0,c.useContext)(f),h=e=>{let{locale:t,noInitialResults:r,categoryId:l}=e,{state:{product:{allFacets:n,filters:a,facetKeys:o,category:s,sort:u,result:d},initialized:p,loading:m,error:g,query:h},setState:v}=(0,c.useContext)(f);return(0,c.useEffect)(()=>{let e=async()=>{if(!p||!v)return;let e=n,c=Object.keys(n).length>0;v(e=>{e.loading=!0,e.error=null});let d=Object.keys(a).length>0;if(!d||r||!c){let n=await (0,i.NP)({facetKeys:o,category:l||"",sort:u,query:h,facetsOnly:r||d,locale:t});if(e=n.facets,v(e=>{e.product.allFacets=n.facets,(!d||r)&&(e.product.result=n.result,e.product.facets=n.facets,e.product.totalResults=n.totalResults,e.loading=!1,e.error=null,e.product.category=s)}),!d||r)return}let f=await (0,i.fK)({facetKeys:o,category:l||"",sort:u,query:h,locale:t,filters:a,facets:e});v(t=>{t.product.allFacets=e,t.product.result=f.result,t.product.facets=f.facets,t.product.totalResults=f.totalResults,t.loading=!1,t.error=null,t.product.category=s})};e()},[a,p,r,h,v,u]),{result:d,loading:m||!p,error:g}},v=e=>{let{locale:t}=e,{state:{initialized:r,loading:l,error:n,query:i,content:{sort:a,result:o}},setState:s}=(0,c.useContext)(f);return(0,c.useEffect)(()=>{let e=async()=>{if(!r||!s)return;let e=await (0,d.$)({sort:a,query:i,locale:t,size:200});s(t=>{t.content.result=e.result,t.content.totalResults=e.totalResults})};e()},[r,t,i,s,a]),{result:o,loading:l||!r,error:n}};function x(e){return"products"===e.type?{query:e.query,type:e.type,filters:e.product.filters,sort:e.product.sort}:{query:e.query,type:e.type,sort:e.content.sort,filters:{}}}var w=m},28820:function(e,t,r){var l=r(11527),n=r(50959),i=r(46608),a=r(84875),o=r.n(a),s=r(13313);let c=e=>{let{layout:t,colorTheme:r,breadCrumbs:a}=e,c={wrapper:"flex gap-x-1 lg:gap-x-2 items-end",link:"block font-medium text-xs lg:text-[15px] hover:underline last:truncate_",dividerIcon:"h-4 flex-shrink-0"};return"ProductHeader"===t&&(c.link="h-[48px] lg:h-auto -my-4 lg:my-0 flex items-center font-bold text-xs md:text-sm hover:underline last:truncate",c.dividerIcon="h-4 flex-shrink-0"),r&&"Default"!==r||(c.link=o()(c.link,"text-primary"),c.dividerIcon=o()(c.dividerIcon,"text-primary")),r&&"Default"!==r||"ProductHeader"!==t||(c.link=o()(c.link,"text-primary lg:text-primary-2"),c.dividerIcon=o()(c.dividerIcon,"text-primary lg:text-primary-2")),"Dark"===r&&(c.link=o()(c.link,"text-white"),c.dividerIcon=o()(c.dividerIcon,"text-white")),(0,l.jsx)("div",{className:c.wrapper,children:a.map((e,t)=>(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(s.Z,{href:e.href,className:c.link,children:e.label}),t<a.length-1&&(0,l.jsx)(i.Z,{className:c.dividerIcon})]},t))})};t.Z=c},87657:function(e,t,r){r.d(t,{$:function(){return a}});var l=r(62917),n=r(24494),i=r(76497);let a=async e=>{let{query:t,locale:r,sort:a,size:s=10}=e;if(!r)throw Error("Locale not set when trying to do a search");let c={query:t,search_fields:{title:{weight:10},slug:{weight:4},tags:{weight:1}},page:{size:s},filters:{all:[{channel:["*",r]}],none:[{channel:["!".concat(r)]}]},sort:(0,i.gX)(a),result_fields:{title:{snippet:{fallback:!0}},slug:{raw:{}},type:{raw:{}}}},u=(0,l.IZ)(r),d=(0,n.m_)(u,"cms"),p=await d.search(t,c);return{result:p.results.map(e=>o(e,r)),totalResults:p.info.meta.page.total_results}},o=(e,t)=>{var r;let{data:l}=e,n={id:l.id.raw,title:null!==(r=l.title.snippet)&&void 0!==r?r:"",slug:l.slug.raw?(0,i.i6)(s(l.type.raw,l.slug.raw),t):"/"};return n},s=(e,t)=>t?"story"===e?"stories/".concat(t):t:"/"},24494:function(e,t,r){r.d(t,{dH:function(){return c},dM:function(){return i},de:function(){return s},ku:function(){return o},m_:function(){return d},vi:function(){return a},zk:function(){return u}});var l=r(52834);let n={},i=["_score.desc","recommended.asc","bp_name.asc","bp_name.desc","price.asc","price.desc"],a=["recommended.asc","bp_name.asc","bp_name.desc","price.asc","price.desc"],o="recommended.asc",s="_score.desc",c=["_score.desc","title.asc","title.desc","date.asc","date.desc"],u="_score.desc",d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"products-web",r="".concat(t,"-").concat(e);try{let e=n[r];if(!e){let t={searchKey:"search-gbj3pok2i1x3ceaiu18ghv25",endpointBase:"https://eleiko-eu-2.ent.eu-central-1.aws.cloud.es.io",engineName:"".concat("prod","-").concat(r)};n[r]=e=l.createClient(t)}return e}catch(e){throw console.error(e),e}}},39215:function(e,t,r){r.d(t,{NP:function(){return p},fK:function(){return f},hO:function(){return s}});var l=r(84555),n=r(15979),i=r(24494),a=r(53013),o=r(76497);let s=(e,t,r)=>{var l,i,a,s,u,d,p,f,g,h,v,x,w;let{data:y}=e,b=null!==(g=null===(l=y.v_name.raw)||void 0===l?void 0:l.replace("Eleiko","").trim())&&void 0!==g?g:"",_=y.bp_desc.raw,j=null!==(h=null===(i=y.bp_name.raw)||void 0===i?void 0:i.replace("Eleiko","").trim().replace(/\\/g,""))&&void 0!==h?h:"",k=(null===(a=y.additional_schema)||void 0===a?void 0:a.raw)!==void 0?null===(s=y.additional_schema)||void 0===s?void 0:s.raw:"",N=k?(0,n.Z)(k):null;N||(N={bpImgUrl:y.bp_img_url.raw,campaignPrice:y.campaign_price.raw,certificationUrl:y.certification_url.raw,certificationUrls:null!==(x=null===(v=y.certification_urls)||void 0===v?void 0:v.raw)&&void 0!==x?x:[],imageNames:y.image_names.raw,isAvailableOnline:"false"!==y.is_available_online.raw,isBundle:"true"===y.is_bundle.raw,isVatIncluded:"false"!==y.is_vat_included.raw,lowestVariantCampaignPrice:y.lowest_variant_campaign_price.raw,lowestVariantPrice:y.lowest_variant_price.raw,price:y.price.raw}),void 0===N.isAvailableOnline&&(N.isAvailableOnline=!0);let C=N.campaignPrice,Z=N.price,O=!!(y._group&&y._group.length>0),[I,z]=c(e,O,N),P=b.indexOf(" - "),q="";P>0&&!O&&(q=b.substring(P+3).replace(/\\/g,""),b=b.substring(0,P));let A=j.indexOf(" - ");A>0&&!O&&(j=j.substring(0,A));let E=N.lowestVariantCampaignPrice>0?N.lowestVariantCampaignPrice:null,R=N.lowestVariantPrice,F=(null===(u=y.status_label)||void 0===u?void 0:u.raw)!==void 0?null===(d=y.status_label)||void 0===d?void 0:d.raw:"",S=(0,n.Z)(F),V=N.isAvailableOnline,D="true"===y.in_stock.raw,T=m(S,C,V,D),U={id:y.bp_id.raw,variantId:y.v_id.raw,name:b,variant:q,desc:_,variantName:b,label:T,href:(0,o.i6)(y.url.raw,t)+(r?"?q=".concat(r):""),imageSrc:I,imageHoverSrc:z,imageHoverAlt:j,imageAlt:j,price:O?E||R:C||Z,priceOld:O?E?R:null:C?Z:null,hasMultipleVariations:O||!1,imageNames:N.imageNames,isBundle:N.isBundle,text:(null===(p=y.bp_desc)||void 0===p?void 0:p.raw)||"",inStock:D,baseProductName:j,isAvailableOnline:V,isVatIncluded:N.isVatIncluded,certificationUrl:N.certificationUrl,certificationUrls:N.certificationUrls,seoTags:null!==(w=null===(f=y.seo_tags)||void 0===f?void 0:f.raw)&&void 0!==w?w:[]};return U},c=(e,t,r)=>{var n,i,a;let{data:o}=e,s=r.bpImgUrl;if(s){let e=s.substring(s.lastIndexOf("/")).replace(".jpeg",".jpg");s=(0,l.z)(e)}let c=null===(n=o.img_url)||void 0===n?void 0:n.raw;if(!c&&t&&(c=o._group&&(null===(i=o._group[0].img_url)||void 0===i?void 0:i.raw)||""),c){let e=c.substring(c.lastIndexOf("/")).replace(".jpeg",".jpg");c=(0,l.z)(e)}return s||c?(c?s||(s=c):c=s,[s,c]):(console.error("Could not find any image for variant ".concat(null===(a=o.v_id)||void 0===a?void 0:a.raw)),["",""])},u=e=>e.info.facets?Object.entries(e.info.facets).reduce((e,t)=>{let[r,l]=t,n=l[0].data;return n.length>0&&(e[r]={name:n[0].value.split("##")[0],values:n.map(e=>{let{count:t,value:r}=e;return{count:t,value:r.split("##")[1]}})}),e},{}):{},d=e=>{let{query:t,sort:r,facetKeys:l,category:n}=e,i={group:a.v,filters:{all:[{type:"product"}]},sort:(0,o.gX)(r),search_fields:a.z,query:t};return i.facets=l.reduce((e,t)=>(e[t]={type:"value"},e),{}),n&&(i.filters.any=[{category_id:[n]},{category_ids:[n]},{parent_category_ids:[n]}]),i},p=async e=>{if(!e.locale)throw Error("Locale not set when trying to do a search");let t=d(e);t.page={size:e.facetsOnly?0:200};let r=(0,i.m_)(e.locale),l=await r.search(e.query,t);return{result:l.results.map(t=>s(t,e.locale,e.query)),facets:u(l),totalResults:l.info.meta.page.total_results}},f=async e=>{let{filters:t,facets:r,locale:l,...n}=e;if(!l)throw Error("Locale not set when trying to do a search");let a=d(n);if(a.page={size:200},t)for(let[e,l]of Object.entries(t)){var o,c,p;if(!l)continue;let t=null===(o=r[e])||void 0===o?void 0:o.name;if(!t){console.error("Tried to filter on ".concat(e," but name was not found. Run a query to fetch all facets first"));continue}let n=[];for(let[e,r]of Object.entries(l))r&&n.push("".concat(t,"##").concat(e));n.length&&(null===(c=a.filters)||void 0===c||null===(p=c.all)||void 0===p||p.push({[e]:n}))}let f=(0,i.m_)(l),m=await f.search(n.query,a);return{result:m.results.map(e=>s(e,l,n.query)),facets:u(m),totalResults:m.info.meta.page.total_results}},m=(e,t,r,l)=>e?e.isNewArrival?"newArrival":r?t&&l?"sale":e.isLimitedEdition?"limitedEdition":e.isComingSoon?"comingSoon":e.isDiscontinued&&!l?"discontinued":"":"":""},53013:function(e,t,r){r.d(t,{v:function(){return l},z:function(){return n}});let l={field:"group",sort:{main:"desc"},collapse:!0},n={bp_name:{weight:10},category_id:{weight:4},v_name:{weight:10},v_id:{weight:10}}},76497:function(e,t,r){r.d(t,{gX:function(){return n},i6:function(){return l},nm:function(){return i}});let l=(e,t)=>{e.startsWith("/")||(e="/"+e);let r=e.replace("/"+t+"/","/");return r},n=e=>{if(!e)return;let[t,r]=e.split(".");return{[t]:"asc"==r?"asc":"desc"}},i=e=>{let t=e.indexOf(", ");return t>0?e.substring(0,t):e}},84555:function(e,t,r){r.d(t,{z:function(){return l}});let l=e=>"".concat("https://media.eleiko.com/images/upload/4x5","/").concat(e)}}]);
//# sourceMappingURL=1967-2fd210a12804ea17.js.map